{% extends "base.html" %}

{% block content %}
<div class="min-h-screen">
    <div class="fixed left-0 top-0 h-full w-64 bg-white/90 backdrop-blur-lg shadow-lg transform transition-transform duration-300 -translate-x-full" id="sideMenu">
        <div class="p-6 space-y-6">
            <div class="flex items-center justify-between">
                <h3 class="text-xl font-bold text-kawaii-dark">メニュー</h3>
                <button onclick="toggleMenu()" class="text-kawaii-dark hover:text-kawaii-pink">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/></svg>
                </button>
            </div>
            <nav class="space-y-4">
                <a href="{{ url_for('admin_dashboard') }}" class="group w-full px-4 py-3 bg-white/80 rounded-xl shadow-sm hover:shadow-md transition-all duration-200 text-kawaii-dark flex items-center space-x-3">
                    <span class="text-xl">📊</span><span class="font-medium group-hover:text-kawaii-pink">管理者ダッシュボード</span>
                </a>
                <a href="{{ url_for('user_management_select') }}" class="w-full px-4 py-3 bg-white/80 rounded-xl shadow-sm hover:shadow-md transition-all duration-200 text-modern-dark hover:text-modern-secondary flex items-center space-x-2">
                    <span class="text-xl">👥</span><span>ユーザー管理</span>
                </a>
                <a href="{{ url_for('admin_post_management') }}" class="w-full px-4 py-3 bg-white/80 rounded-xl shadow-sm hover:shadow-md transition-all duration-200 text-modern-dark hover:text-modern-accent flex items-center space-x-2">
                    <span class="text-xl">📝</span><span>投稿管理</span>
                </a>
                <a href="{{ url_for('qa_page') }}" class="w-full px-4 py-3 bg-white/80 rounded-xl shadow-sm hover:shadow-md transition-all duration-200 text-modern-dark hover:text-pastel-purple flex items-center space-x-2">
                    <span class="text-xl">❓</span><span>Q&A管理</span>
                </a>
            </nav>
        </div>
    </div>

    <div class="max-w-4xl mx-auto px-4 py-8">
        <button onclick="toggleMenu()" class="fixed top-4 left-4 z-50 p-2 bg-white/90 rounded-lg shadow-md hover:shadow-lg transition-all duration-200">
            <svg class="w-6 h-6 text-kawaii-dark" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"/></svg>
        </button>
        
        <div class="container mx-auto px-4 py-8 max-w-2xl">
            <h2 class="text-3xl font-bold text-gray-800 mb-6">新しい通知を投稿する</h2>
            <p class="text-gray-600 mb-8">特定の学校の通知用掲示板へメッセージを送信します。</p>

            <div class="bg-white rounded-lg shadow-md p-6">
                <form action="{{ url_for('create_notice') }}" method="POST" class="space-y-4">
                    <div class="space-y-2">
                        <textarea name="content" rows="6" placeholder="通知内容を入力してください" required class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors resize-none"></textarea>
                    </div>
                    <div class="flex items-center space-x-4">
                        <label for="notice_scope" class="text-gray-700">通知先:</label>
                        <select name="notice_scope" id="notice_scope" class="flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500">
                            {% if schools %}
                                {% for school in schools %}
                                    <option value="notice{{ school.school_id }}">{{ school.school_name }}</option>
                                {% endfor %}
                            {% endif %}
                        </select>
                    </div>
                    <button type="submit" class="w-full bg-blue-600 hover:bg-blue-700 text-white font-medium py-2 px-4 rounded-lg transition-colors duration-200">
                        この内容で通知を投稿
                    </button>
                </form>
            </div>
        </div>
    </div>
</div>
<script>
    // ハンバーガーメニューの制御
    function toggleMenu() {
        const menu = document.getElementById('sideMenu');
        menu.classList.toggle('-translate-x-full');
    }
</script>
{% endblock %}